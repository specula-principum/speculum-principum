id: kb_extraction_ready_for_copilot
goal: |
  Review open KB extraction issues and promote the actionable ones for Copilot handoff:
  1. Search for open issues labeled "kb-extraction" that do not already have the "ready-for-copilot" label.
  2. For each candidate issue, fetch the full details and confirm the template fields are present:
     source_path, source_type, extraction_requirements, output_requirements, success_criteria.
  3. If the information is complete and actionable, post a brief confirmation comment and add the "ready-for-copilot" label (leave "kb-extraction" in place). Remove "needs-triage" if it is still applied.
  4. If critical information is missing, post a comment explaining the gaps and request updates. Add or keep a guidance label such as "needs-triage" instead of promoting the issue.
  5. Continue processing until the queue is empty or the mission reaches the step limit.

constraints:
  - Only operate on open issues within the target repository.
  - Do not remove existing labels other than clearing "needs-triage" when the issue is ready.
  - Avoid posting duplicate comments; reference prior guidance when possible.
  - Do not modify the issue body or title.
  - Escalate with a guidance comment if policy or uncertainty blocks promotion.

success_criteria:
  - Candidate issues were discovered via the "kb-extraction" label.
  - Each processed issue received either a readiness comment with "ready-for-copilot" applied or a clarification request when data was missing.
  - Issues left unprocessed were explicitly noted (e.g., already labeled ready or closed).
  - No prohibited modifications were made.

max_steps: 25

allowed_tools:
  - search_issues_by_label
  - get_issue_details
  - add_label
  - remove_label
  - post_comment
  - request_human_guidance

requires_approval: false
