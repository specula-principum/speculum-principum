# Default configuration for the knowledge base engine pipeline.
pipeline:
  parsing:
    supported_formats:
      - pdf
      - html
      - docx
          dpi: 300
          languages:
            - eng
        extraction:
          layout_mode: layout
          strip_rotated: false
          collapse_whitespace: true
          warn_on_empty_pages: true
    scan:
      suffixes:
        - .pdf
        - .html
        - .htm
        - .docx
      recursive: true
      include: []
      exclude: []
    format_profiles:
      pdf:
        ocr:
          table:
            preserve_header_rows: true
            merge_nested_tables: true
          enable: true
          deskew: true
          clean_background: true
        metadata:
          capture_bookmarks: true
          keep_page_labels: true
      html:
        selectors:
          main:
            - article
            - main
            - "[role='main']"
            - "#content"
          remove:
            - nav
            - header
            - footer
            - aside
        convert_links_to_absolute: true
        preserve_tables: true
      docx:
        normalize_whitespace: true
        merge_runs: true
  transformation:
    templates_dir: config/templates/
    apply_quality_filters: true
    min_concept_frequency: 2
    min_entity_confidence: 0.7

  organization:
    auto_slug: true
    slug_format: kebab-case
    collision_strategy: append_hash
    index_generation: auto

  linking:
    build_concept_graph: true
    generate_backlinks: true
    max_related_items: 10
    similarity_threshold: 0.6

  quality:
    validate_on_creation: true
    auto_fix_simple_issues: true
    required_completeness: 0.7
    required_findability: 0.6

monitoring:
  log_level: INFO
  progress_updates: true
  metrics_output: reports/kb-metrics.json
